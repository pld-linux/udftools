diff -uNr udftools-1.0.0b2/configure.in udftools-1.0.0b2.new/configure.in
--- udftools-1.0.0b2/configure.in	Sat Feb  9 10:27:41 2002
+++ udftools-1.0.0b2.new/configure.in	Tue Jul 30 10:55:49 2002
@@ -22,7 +22,7 @@
 
 dnl Checks for library functions.
 AC_CHECK_FUNCS(gettimeofday mktime open64 lseek64 llseek)
-AC_SUBST(LIBOBJS)
-AC_CHECK_FUNCS(getopt_long , , [LIBOBJS="$LIBOBJS getopt.lo"] )
+
+AC_CHECK_FUNCS(getopt_long , , [AC_LIBOBJ([getopt])] )
 
 AC_OUTPUT(Makefile libudffs/Makefile mkudffs/Makefile cdrwtool/Makefile pktsetup/Makefile doc/Makefile)
diff -uNr udftools-1.0.0b2/libudffs/Makefile.am udftools-1.0.0b2.new/libudffs/Makefile.am
--- udftools-1.0.0b2/libudffs/Makefile.am	Tue Jul 30 11:01:06 2002
+++ udftools-1.0.0b2.new/libudffs/Makefile.am	Tue Jul 30 11:00:35 2002
@@ -1,7 +1,7 @@
 lib_LTLIBRARIES     = libudffs.la
 libudffs_la_SOURCES = crc.c extent.c file.c unicode.c ../include/getopt.h ../include/libudffs.h ../include/ecma_167r3.h ../include/osta_udf201.h ../include/defaults.h ../include/udf_endian.h
 EXTRA_libudffs_la_SOURCES = getopt.c
-libudffs_la_LIBADD = @LIBOBJS@
+#libudffs_la_LIBADD = @LIBOBJS@
 libudffs_la_LDFLAGS = -version-info 1:0:0
 
 AM_CPPFLAGS = -D_LARGEFILE64_SOURCE
